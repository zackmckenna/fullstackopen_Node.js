{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/DeleteButton.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","DeleteButton","personKey","deleteName","name","personId","key","onClick","Person","personkey","number","Persons","index","person","id","baseUrl","axios","get","newObject","post","put","delete","Notification","error","notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","showAll","setShowAll","setNotification","setError","useEffect","nameService","then","response","data","event","preventDefault","Number","target","currentPerson","find","window","confirm","catch","personsToShow","filter","match","checkName","props","nameObject","date","Date","toISOString","tempName","setTimeout","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.273915af.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newSearch, handleSearchChange }) => {\n\n  return (\n    <div>\n      <h3>Search</h3>\n      <input\n      value={newSearch}\n      onChange={handleSearchChange}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange,\n                    newNumber, handleNumberChange}) => {\n\n    return  (\n      <>\n      <form onSubmit={addName}>\n        <div>\n          name:\n          <input\n          value={newName}\n          onChange={handleNameChange}\n          />\n        </div>\n        <div>\n        number:\n          <input\n          value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      </>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst DeleteButton = ({ personKey, name, deleteName }) => {\n  const personId = personKey\n  return (\n  <form>\n    <button key={personKey}\n    value={personId} onClick={deleteName}\n    >\n    Delete\n  </button>\n</form>\n)\n}\n\nexport default DeleteButton\n","import React from 'react'\n\nconst Person = ({ personkey, name, number }) => {\n  return (\n    <p key={personkey}>{name} : {number}</p>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport DeleteButton from './DeleteButton'\nimport Person from './Person'\n\nconst Persons = ({ index, person, newSearch, deleteName }) => {\n\n  return (\n    <>\n      <Person key={person.id} personkey={person.id} name={person.name} number={person.number}/>\n    <DeleteButton key={index} personKey={person.id} name={person.name} deleteName={deleteName}/>\n    </>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst removeName = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, update, removeName }\n","import React from 'react'\n\n\nconst Notification = ({ error, notification }) => {\n\n    const errorStyle = {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n      }\n\n    if (notification === null) {\n      return null\n    }\n\n    if (error) {\n      return (\n        <div style={errorStyle} className=\"notification\">\n          {notification}\n        </div>\n      )\n    }\n    if (!error) {\n      return (\n        <div style={notificationStyle}className=\"notification\">\n          {notification}\n        </div>\n      )\n    }\n\n\n\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport nameService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [notification, setNotification] = useState('')\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    nameService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    if (event.target.value !== ''){\n      setShowAll(false)\n      setNewSearch(event.target.value)\n    } else {\n      if (event.target.value === ''){\n        setShowAll(true)\n      }\n    }\n    setNewSearch(event.target.value)\n  }\n\n  const deleteName = (event) => {\n    event.preventDefault()\n    const personId = (Number(event.target.value))\n    const currentPerson = (persons.find(person => person.id === personId))\n    if (window.confirm(`Delete ${currentPerson.name}?`) === true) {\n    nameService\n      .removeName(currentPerson.id)\n      .then(response => {\n        nameService\n        .getAll()\n        .then(response => {\n          setPersons(response.data)\n        })\n      })\n      .catch(error => {\n        setError(true)\n        setNotification(\n          `${currentPerson.name} has already been deleted from the server`\n        )\n      })\n    }\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n    }\n    if (checkName(nameObject.name)) {\n      if(window.confirm(`${newName} is already registered. Want to update number?`) === true){\n        const tempName = persons.find(person => person.name === nameObject.name)\n        nameService\n          .update(tempName.id, nameObject)\n          .then(response => {\n            nameService\n            .getAll()\n            .then(response => {\n              setPersons(response.data)\n              setError(false)\n              setNotification(\n                `${tempName.name}'s number has been updated.`\n              )\n              setTimeout(() => {\n                setNotification(null)\n              }, 5000)\n            })\n            setNewName('')\n            setNewNumber('')\n          })\n\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n      return setNewName('')\n    }\n    nameService\n      .create(nameObject)\n      .then(response => {\n        nameService\n          .getAll()\n          .then(response => {\n            setPersons(response.data)\n          })\n        setNewName('')\n        setNewNumber('')\n        setError(false)\n        setNotification(\n          `${nameObject.name} has been added to the Phonebook`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n  }\n\n  const personsToShow = showAll ? persons : persons.filter(person => person.name.match(newSearch))\n\n  const checkName = (props) => {\n    if (persons.find(person => person.name === props)) {\n      return true\n    }\n  }\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n    <Notification error={error} notification={notification}/>\n\n    <Filter\n        newSearch={newSearch}\n        handleSearchChange={handleSearchChange}\n        />\n\n      <h3>Add a Number</h3>\n\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        />\n\n      <h2>Numbers</h2>\n    {personsToShow.map((person, index) => <Persons  deleteName={deleteName} key={index} index={index} person={person}/>)}\n\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}