{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/DeleteButton.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","DeleteButton","personKey","deleteName","name","personId","key","onClick","Person","personkey","number","Persons","index","person","id","baseUrl","axios","get","newObject","post","put","delete","Notification","error","notification","console","log","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","showAll","setShowAll","setNotification","setError","useEffect","nameService","then","response","data","catch","event","preventDefault","target","currentPerson","find","window","confirm","personsToShow","filter","match","checkName","props","nameObject","date","Date","toISOString","tempName","setTimeout","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.135c36fc.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newSearch, handleSearchChange }) => {\n\n  return (\n    <div>\n      <h3>Search</h3>\n      <input\n      value={newSearch}\n      onChange={handleSearchChange}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange,\n                    newNumber, handleNumberChange}) => {\n\n    return  (\n      <>\n      <form onSubmit={addName}>\n        <div>\n          name:\n          <input\n          value={newName}\n          onChange={handleNameChange}\n          />\n        </div>\n        <div>\n        number:\n          <input\n          value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      </>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst DeleteButton = ({ personKey, name, deleteName }) => {\n  const personId = personKey\n  return (\n  <form>\n    <button key={personKey}\n    value={personId} onClick={deleteName}\n    >\n    Delete\n  </button>\n</form>\n)\n}\n\nexport default DeleteButton\n","import React from 'react'\n\nconst Person = ({ personkey, name, number }) => {\n  return (\n    <p key={personkey}>{name} : {number}</p>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport DeleteButton from './DeleteButton'\nimport Person from './Person'\n\nconst Persons = ({ index, person, newSearch, deleteName }) => {\n\n  return (\n    <>\n      <Person key={person.id} personkey={person.id} name={person.name} number={person.number}/>\n    <DeleteButton key={index} personKey={person.id} name={person.name} deleteName={deleteName}/>\n    </>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst removeName = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, update, removeName }\n","import React from 'react'\n\n\nconst Notification = ({ error, notification }) => {\n\n    const errorStyle = {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n      }\n\n    if (notification === null || notification === '') {\n      return null\n    }\n\n    if (error) {\n      console.log('error run')\n      return (\n        <div style={errorStyle} className=\"notification\">\n          {notification}\n        </div>\n      )\n    }\n    if (!error) {\n      return (\n        <div style={notificationStyle}className=\"notification\">\n          {notification}\n        </div>\n      )\n    }\n\n\n\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport nameService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [notification, setNotification] = useState('')\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    nameService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n      .catch(error => {\n        setNotification(`${error}`)\n      })\n  }, [])\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    if (event.target.value !== ''){\n      setShowAll(false)\n      setNewSearch(event.target.value)\n    } else {\n      if (event.target.value === ''){\n        setShowAll(true)\n      }\n    }\n    setNewSearch(event.target.value)\n  }\n\n  const deleteName = (event) => {\n    event.preventDefault()\n    const personId = (event.target.value)\n    const currentPerson = (persons.find(person => person.id === personId))\n    if (window.confirm(`Delete ${currentPerson.name}?`) === true) {\n    nameService\n      .removeName(currentPerson.id)\n      .then(response => {\n        nameService\n        .getAll()\n        .then(response => {\n          setPersons(response.data)\n        })\n        .catch(error => {\n          setNotification(`Could not retrieve data.`)\n        })\n      })\n      .catch(error => {\n        setError(true)\n        setNotification(\n          `${currentPerson.name} has already been deleted from the server`\n        )\n      })\n    }\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n    }\n    if (checkName(nameObject.name)) {\n      if(window.confirm(`${newName} is already registered. Want to update number?`) === true){\n        const tempName = persons.find(person => person.name === nameObject.name)\n        nameService\n          .update(tempName.id, nameObject)\n          .then(response => {\n            nameService\n            .getAll()\n            .then(response => {\n              setPersons(response.data)\n              setError(false)\n              setNotification(\n                `${tempName.name}'s number has been updated.`\n              )\n              setTimeout(() => {\n                setNotification(null)\n              }, 5000)\n            })\n            .catch(`${tempName.name} could not be updated`)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(`Could not retrieve data.`)\n\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n      return setNewName('')\n    }\n    nameService\n      .create(nameObject)\n      .then(response => {\n        nameService\n          .getAll()\n          .then(response => {\n            setPersons(response.data)\n          })\n        setNewName('')\n        setNewNumber('')\n        setError(false)\n        setNotification(\n          `${nameObject.name} has been added to the Phonebook`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setNotification(`Could not create new Person.`)\n      })\n  }\n\n  const personsToShow = showAll ? persons : persons.filter(person => person.name.match(newSearch))\n\n  const checkName = (props) => {\n    if (persons.find(person => person.name === props)) {\n      return true\n    }\n  }\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n    <Notification error={error} notification={notification}/>\n\n    <Filter\n        newSearch={newSearch}\n        handleSearchChange={handleSearchChange}\n        />\n\n      <h3>Add a Number</h3>\n\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        />\n\n      <h2>Numbers</h2>\n    {personsToShow.map((person, index) => <Persons  deleteName={deleteName} key={index} index={index} person={person}/>)}\n\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}